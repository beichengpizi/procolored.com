<!-- 无限滚动 -->
<style>
    :root {
      /* Font sizes */
      --text-h0-n: 56px;
      --text-h1-n: 40px;
      --text-h2-n: 30px;
      --text-h3-n: 26px;
      --text-h4-n: 24px;
      --text-h5-n: 20px;
      --text-h6-n: 16px;
      --text-xs-n: 12px;
      --text-sm-n: 14px;
      --text-base-n: 18px;
      --text-lg-n: 19px;
    }
    .text-xxs {
      font-size: 10px;
      line-height: 1.3;
    }

    .text-xs {
      font-size: var(--text-xs-n);
      line-height: 1.3;
    }

    .text-sm {
      font-size: var(--text-sm-n);
      line-height: 1.3;
    }

    .text-base {
      font-size: var(--text-base-n);
      line-height: 1.3;
    }
    .text-md {
      font-size: var(--text-md-n);
      line-height: 1.2;
    }

    .text-lg {
      font-size: var(--text-lg-n);
      line-height: 1.2;
    }
     /* 重置样式 start*/
     #infinite-scroll-{{section.id}}  .h0 {
      font-size: var(--text-h0-n) ;
      line-height: 1;
      font-family: ItalianPlateNo2Expanded-Bold, sans-serif !important;
    }

    #infinite-scroll-{{section.id}}  h1,
    #infinite-scroll-{{section.id}}  .h1,
    #infinite-scroll-{{section.id}}  .prose h1:not(.h0, .h1, .h2, .h3, .h4, .h5, .h6) {
      font-size: var(--text-h1-n) ;
      line-height: 1.1;
      font-family: ItalianPlateNo2Expanded-Bold, sans-serif !important;
    }

    #infinite-scroll-{{section.id}}  h2,
    #infinite-scroll-{{section.id}}  .h2,
    #infinite-scroll-{{section.id}}  .prose h2:not(.h0, .h1, .h2, .h3, .h4, .h5, .h6) {
      font-size: var(--text-h2-n);
      line-height: 1.1;
      font-family: ItalianPlateNo2Expanded-Bold, sans-serif !important;
    }

    #infinite-scroll-{{section.id}}  h3,
    #infinite-scroll-{{section.id}}  .h3,
    #infinite-scroll-{{section.id}}  .prose h3:not(.h0, .h1, .h2, .h3, .h4, .h5, .h6) {
      font-size: var(--text-h3-n) ;
      line-height: 1.2;
    }

    #infinite-scroll-{{section.id}}  h4,
    #infinite-scroll-{{section.id}}  .h4,
    #infinite-scroll-{{section.id}}  .prose h4:not(.h0, .h1, .h2, .h3, .h4, .h5, .h6) {
      font-size: var(--text-h4-n) ;
      line-height: 1.3;
    }

    #infinite-scroll-{{section.id}}  h5,
    #infinite-scroll-{{section.id}}  .h5,
    #infinite-scroll-{{section.id}}  .prose h5:not(.h0, .h1, .h2, .h3, .h4, .h5, .h6) {
      font-size: var(--text-h5-n) ;
      line-height: 1.3;
    }

    #infinite-scroll-{{section.id}}  h6,
    #infinite-scroll-{{section.id}}  .h6,
    #infinite-scroll-{{section.id}}  .prose h6:not(.h0, .h1, .h2, .h3, .h4, .h5, .h6) {
      font-size: var(--text-h6-n) ;
      line-height: 1.3;
    }
    /* 重置样式 end*/
  /* infinite-scroll  无限滚动  */
  #infinite-scroll-{{section.id}}  {
      background-color: {{ section.settings.background_color }};
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
      position: relative;
      box-sizing: border-box;
    }
  #infinite-scroll-{{section.id}}  .infinite-scroll-container {
      margin: 0 auto;
      width: 100%;
    }
  #infinite-scroll-{{section.id}}  .infinite-scroll-title {
      display: flex;
      width: 100%;
      line-height: 1;
      align-items: center;
      justify-content: {{ section.settings.title_alignment }};
      text-align: {{ section.settings.title_alignment }};
      margin-top: {{ section.settings.title_margin_top }}px;
      margin-bottom: {{ section.settings.title_margin_bottom }}px;
    }
  #infinite-scroll-{{section.id}}  .infinite-scroll-subtitle {

      margin-top: {{ section.settings.subtitle_margin_top }}px;
      margin-bottom: {{ section.settings.subtitle_margin_bottom }}px;
      width: 100%;
      text-align: {{ section.settings.title_alignment }};
    }



  #infinite-scroll-{{section.id}}  .infinite-scroll-swiper-container{
      overflow: hidden;
    }
    #infinite-scroll-{{section.id}}  .infinite-scroll-contaner-item {
        position: relative;
        min-height: {{ section.settings.card_container_min_height }}px;


      }
      #infinite-scroll-{{section.id}}  .infinite-scroll-contaner-item  .text-container{
        text-align: {{ section.settings.content_alignment }};

      }

    #infinite-scroll-{{section.id}}  .infinite-scroll-contaner-item img {
      width: 100%;
      height: 100%;
      max-width: 100%;
    }
    #infinite-scroll-{{section.id}}  .desktopShow {
      display: block;
    }
    #infinite-scroll-{{section.id}}  .mobileShow {
      display: none;
    }
    #infinite-scroll-{{section.id}}  .infinite-scroll-swiper-container .swiper-wrapper{
      transition-timing-function: linear !important; /* 匀速滚动 */
    }
    @media screen and (max-width: 768px){
        #infinite-scroll-{{section.id}}{
          padding: {{ section.settings.padding_top_mobile }}px {{ section.settings.padding_bottom_mobile }}px;
        }

        #infinite-scroll-{{section.id}}    .infinite-scroll-title {
          font-size: {{ section.settings.title_size_mobile }}px;
          gap: 7px;
          margin-top: {{ section.settings.title_margin_top_mobile }}px;
          margin-bottom: {{ section.settings.title_margin_bottom_mobile }}px;
        }

        #infinite-scroll-{{section.id}}    .infinite-scroll-subtitle {
          font-size: {{ section.settings.subtitle_size_mobile }}px;
          margin-top: {{ section.settings.subtitle_margin_top_mobile }}px;
          margin-bottom: {{ section.settings.subtitle_margin_bottom_mobile }}px;
        }
        #infinite-scroll-{{section.id}}  .infinite-scroll-swiper-container{
            overflow: hidden;
          }
          #infinite-scroll-{{section.id}}  .infinite-scroll-contaner-item {
              position: relative;
              min-height: {{ section.settings.card_container_min_height_mobile }}px;

            }
            #infinite-scroll-{{section.id}}  .infinite-scroll-contaner-item  .text-container{
                font-size: {{ section.settings.text_size_mobile }}px;

              }




    }
</style>

<!-- infinite-scroll -->
<div id="infinite-scroll-{{section.id}}" class="infinite-scroll-wrap">
  <div class="infinite-scroll-container">
    <div class="infinite-scroll-title {{ section.settings.title_size }} ">
      {{ section.settings.title }}
    </div>
    <div class="infinite-scroll-subtitle {{ section.settings.subtitle_size }} {{ section.settings.subtitle_font_family }}">
      {{ section.settings.subtitle }}
    </div>
    <!-- PC端显示 -->
    <div class="infinite-scroll-swiper-container ">
      <div class="swiper-wrapper">
        {% for block in section.blocks %}
          {% case block.type %}
            {% when 'image' %}
              <style>
                .image-container-{{ block.id }} {
                  padding: {{ block.settings.card_container_padding_top_bottom }}px {{ block.settings.card_container_padding_left_right }}px;
                  border-radius: {{ block.settings.card_container_border_radius }}px;
                  background-color: {{ block.settings.background_color }};
                  color: {{ block.settings.text_color }};
                }
                @media screen and (max-width: 768px){
                  .image-container-{{ block.id }} {
                    padding: {{ block.settings.card_container_padding_top_bottom_mobile }}px {{ block.settings.card_container_padding_left_right_mobile }}px;
                    border-radius: {{ block.settings.card_container_border_radius_mobile }}px;
                  }
                }
              </style>
              <div class="swiper-slide">
                <div class="infinite-scroll-contaner-item image-container-{{ block.id }}">
                  {% assign image = block.settings.image %}
                  {% assign size = 100 | divided_by: 5 | round %}
                  {% if image %}
                    <img
                      data-sizes="{{ size }}vw"
                      data-srcset="
                        {%- if image.width >= 200 -%}{{ image | image_url: width: 200 }} 200w,{%- endif -%}
                        {%- if image.width >= 375 -%}{{ image | image_url: width: 375 }} 375w,{%- endif -%}
                        {%- if image.width >= 550 -%}{{ image | image_url: width: 550 }} 550w,{%- endif -%}
                        {%- if image.width >= 750 -%}{{ image | image_url: width: 750 }} 750w,{%- endif -%}
                        {%- if image.width >= 1100 -%}{{ image | image_url: width: 1100 }} 1100w,{%- endif -%}
                        {%- if image.width >= 1500 -%}{{ image | image_url: width: 1500 }} 1500w,{%- endif -%}
                        {%- if image.width >= 1780 -%}{{ image | image_url: width: 1780 }} 1780w,{%- endif -%}
                        {%- if image.width >= 2000 -%}{{ image | image_url: width: 2000 }} 2000w,{%- endif -%}
                        {%- if image.width >= 3000 -%}{{ image | image_url: width: 3000 }} 3000w,{%- endif -%}
                        {%- if image.width >= 3840 -%}{{ image | image_url: width: 3840 }} 3840w,{%- endif -%}
                        {{ image | image_url }} {{ image.width }}w
                      "
                      data-src="{{ image | image_url:width:750 }}"
                      class="swiper-lazy  lazyload "
                    >
                  {% endif %}
                </div>
              </div>
            {% when 'text' %}
              <style>
                .text-container-{{ block.id }} {
                  background-color: {{ block.settings.background_color }};
                  padding:{{ block.settings.card_container_padding_top_bottom }}px {{ block.settings.card_container_padding_left_right }}px;
                  border-radius: {{ block.settings.card_container_border_radius }}px;
                }
                .text-container-{{ block.id }} .text-container {
                  color: {{ block.settings.text_color }};
                }
                @media screen and (max-width: 768px){
                  .text-container-{{ block.id }} {
                    padding: {{ block.settings.card_container_padding_top_bottom_mobile }}px {{ block.settings.card_container_padding_left_right_mobile }}px;
                    border-radius: {{ block.settings.card_container_border_radius_mobile }}px;
                  }
                }
              </style>
              {% if block.settings.text != blank %}
                <div class="swiper-slide">
                  <div class="infinite-scroll-contaner-item text-container-{{ block.id }}">
                    <div class="text-container {{ section.settings.text_size }} {{ section.settings.content_font_family }}">
                      {{ block.settings.text }}
                    </div>
                  </div>
                </div>
              {% endif %}
          {% endcase %}
        {% endfor %}
      </div>
    </div>
  </div>
</div>
<script>
  {% comment %} document.addEventListener('DOMContentLoaded', () => { {% endcomment %}
    const slidesPerView = {{ section.blocks.size }}
    const mySwiper1 = new Swiper('.infinite-scroll-swiper-container', {
      loop: true,
      slidesPerView: slidesPerView,
      observer: true, //开启动态检查器，监测swiper和slide
      observeParents: true,  //监测Swiper 的祖/父元素
      initialSlide: 0, // 初始化时显示第三个滑块
      spaceBetween: 40,
      freeMode: true,
      loopedSlides: 10,
      speed: 5000, //匀速时间5秒
      autoplay: {
        delay: 0, // 每隔多少时间，自动播放
        disableOnInteraction: false,
      },
      on: {
        observerUpdate: function(){

        },
      },
      breakpoints: {
        1024: {
          slidesPerView: slidesPerView,
          spaceBetween: 0,
        },
        //当宽度小于等于768时显示
        768: {

          slidesPerView: 2,
          spaceBetween: 20,
        },
      },
    });
    //  鼠标悬停
    mySwiper1.el.onmouseover = function () {
      mySwiper1.autoplay.stop();
    };
    mySwiper1.el.onmouseout = function () {
      mySwiper1.autoplay.start();
    };
  {% comment %} }); {% endcomment %}
</script>
{% schema %}
{
  "name": "infinite-scroll",
  "tag": "section",
  "settings": [
    {
      "type": "select",
      "id": "title_alignment",
      "label": "大标题对齐方式",
      "options": [
        {
          "value": "start",
          "label": "左对齐"
        },
        {
          "value": "center",
          "label": "居中对齐"
        },

        {
          "value": "end",
          "label": "右对齐"
        }
      ],
      "default": "center"
    },
    {
      "type": "select",
      "id": "content_alignment",
      "label": "内容对齐方式",
      "options": [
        {
          "value": "start",
          "label": "左对齐"
        },
        {
          "value": "center",
          "label": "居中对齐"
        },

        {
          "value": "end",
          "label": "右对齐"
        }
      ],
      "default": "center"
    },

    {
      "type": "range",
      "id": "card_container_min_height",
      "min": 200,
      "max": 600,
      "step": 4,
      "unit": "px",
      "label": "卡片容器的最小高度",
      "default": 420
    },
    {
      "type": "range",
      "id": "card_container_min_height_mobile",
      "min": 100,
      "max": 400,
      "step": 4,
      "unit": "px",
      "label": "卡片容器的最小高度（移动端）",
      "default": 120
    },
    {
      "type": "text",
      "id": "title",
      "label": "大标题",
      "default": "大标题"
    },
    {
      "type": "select",
      "id": "title_size",
      "label": "大标题字体大小",
      "options": [
        {
          "value": "h0",
          "label": "H0"
        },
        {
          "value": "h1",
          "label": "H1"
        },
        {
          "value": "h2",
          "label": "H2"
        },
        {
          "value": "h3",
          "label": "H3"
        },
        {
          "value": "h4",
          "label": "H4"
        },
        {
          "value": "h5",
          "label": "H5"
        },
        {
          "value": "h6",
          "label": "H6"
        },
        {
          "value": "text-lg",
          "label": "大文本"
        },
        {
          "value": "text-base",
          "label": "标准文本"
        },
        {
          "value": "text-sm",
          "label": "小文本"
        },
        {
          "value": "text-xs",
          "label": "超小文本"
        }
      ],
      "default": "h1"
    },
    {
      "type": "range",
      "id": "title_size_mobile",
      "min": 10,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "大标题字体大小（移动端）",
      "default": 30
    },
    {
      "type": "html",
      "id": "subtitle",
      "label": "小标题",
      "default": "小标题"
    },
    {
      "type": "select",
      "id": "subtitle_size",
      "label": "小标题字体大小",
      "options": [
        {
          "value": "h0",
          "label": "H0"
        },
        {
          "value": "h1",
          "label": "H1"
        },
        {
          "value": "h2",
          "label": "H2"
        },
        {
          "value": "h3",
          "label": "H3"
        },
        {
          "value": "h4",
          "label": "H4"
        },
        {
          "value": "h5",
          "label": "H5"
        },
        {
          "value": "h6",
          "label": "H6"
        },
        {
          "value": "text-lg",
          "label": "大文本"
        },
        {
          "value": "text-base",
          "label": "标准文本"
        },
        {
          "value": "text-sm",
          "label": "小文本"
        },
        {
          "value": "text-xs",
          "label": "超小文本"
        }
      ],
      "default": "h2"
    },
    {
      "type": "range",
      "id": "subtitle_size_mobile",
      "min": 10,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "小标题字体大小（移动端）",
      "default": 14
    },
    {
      "type": "select",
      "id": "text_size",
      "label": "文本字体大小",
      "options": [
        {
          "value": "h0",
          "label": "H0"
        },
        {
          "value": "h1",
          "label": "H1"
        },
        {
          "value": "h2",
          "label": "H2"
        },
        {
          "value": "h3",
          "label": "H3"
        },
        {
          "value": "h4",
          "label": "H4"
        },
        {
          "value": "h5",
          "label": "H5"
        },
        {
          "value": "h6",
          "label": "H6"
        },
        {
          "value": "text-lg",
          "label": "大文本"
        },
        {
          "value": "text-base",
          "label": "标准文本"
        },
        {
          "value": "text-sm",
          "label": "小文本"
        },
        {
          "value": "text-xs",
          "label": "超小文本"
        }
      ],
      "default": "text-base"
    },
    {
      "type": "range",
      "id": "text_size_mobile",
      "min": 10,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "文本字体大小（移动端）",
      "default": 14
    },
    {
      "type": "header",
      "content": "颜色"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "大标题字体颜色",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "subtitle_color",
      "label": "小标题字体颜色",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "背景色",
      "default": "#FFFAF6"
    },
    {
      "type": "select",
      "id": "subtitle_font_family",
      "label": "小标题字体系列",
      "options": [
        {
          "value": "custom-font-bold",
          "label": "Bold"
        },
        {
          "value": "custom-font-regular",
          "label": "Regular"
        }
      ],
      "default": "custom-font-regular"
    },
    {
      "type": "select",
      "id": "content_font_family",
      "label": "内容字体系列",
      "options": [
        {
          "value": "custom-font-bold",
          "label": "Bold"
        },
        {
          "value": "custom-font-regular",
          "label": "Regular"
        }
      ],
      "default": "custom-font-bold"
    },
    {
      "type": "header",
      "content": "分区填充"
    },
    {
      "type": "range",
      "id": "title_margin_top",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "大标题顶部填充",
      "default": 0
    },

    {
      "type": "range",
      "id": "title_margin_top_mobile",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "大标题顶部填充(移动端)",
      "default": 0
    },
    {
      "type": "range",
      "id": "title_margin_bottom",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "大标题底部填充",
      "default": 0
    },
    {
      "type": "range",
      "id": "title_margin_bottom_mobile",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "大标题底部填充(移动端)",
      "default": 0
    },

    {
      "type": "range",
      "id": "subtitle_margin_top",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "小标题顶部填充",
      "default": 0
    },
    {
      "type": "range",
      "id": "subtitle_margin_top_mobile",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "小标题顶部填充(移动端)",
      "default": 0
    },

    {
      "type": "range",
      "id": "subtitle_margin_bottom",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "小标题底部填充",
      "default": 0
    },
    {
      "type": "range",
      "id": "subtitle_margin_bottom_mobile",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "小标题底部填充(移动端)",
      "default": 0
    },

    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "顶部填充",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "顶部填充(移动端)",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "底部填充",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "底部填充(移动端)",
      "default": 0
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "图片",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "图片"
        },
        {
          "type": "range",
          "id": "card_container_border_radius",
          "min": 0,
          "max": 200,
          "step": 2,
          "unit": "px",
          "label": "卡片容器的圆角大小",
          "default": 20
        },
        {
          "type": "range",
          "id": "card_container_border_radius_mobile",
          "min": 0,
          "max": 200,
          "step": 2,
          "unit": "px",
          "label": "卡片容器的圆角大小（移动端）",
          "default": 10
        },
        {
          "type": "color",
          "id": "text_color",
          "label": "文本颜色"
        },
        {
          "type": "color",
          "id": "background_color",
          "label": "背景颜色"
        },
        {
          "type": "range",
          "id": "card_container_padding_top_bottom",
          "min": 0,
          "max": 200,
          "step": 2,
          "unit": "px",
          "label": "卡片容器上下填充",
          "default": 0
        },
        {
          "type": "range",
          "id": "card_container_padding_left_right",
          "min": 0,
          "max": 200,
          "step": 2,
          "unit": "px",
          "label": "卡片容器左右填充",
          "default": 0
        },
        {
          "type": "range",
          "id": "card_container_padding_left_right_mobile",
          "min": 0,
          "max": 200,
          "step": 2,
          "unit": "px",
          "label": "卡片容器左右填充(移动端)",
          "default": 0
        },
        {
          "type": "range",
          "id": "card_container_padding_top_bottom_mobile",
          "min": 0,
          "max": 200,
          "step": 2,
          "unit": "px",
          "label": "卡片容器上下填充(移动端)",
          "default": 0
        }
      ]
    },
    {
      "type": "text",
      "name": "文本",
      "settings": [
        {
          "type": "html",
          "id": "text",
          "label": "文本"
        },
        {
          "type": "range",
          "id": "card_container_border_radius",
          "min": 0,
          "max": 100,
          "step": 1,
          "unit": "px",
          "label": "卡片容器的圆角大小",
          "default": 20
        },
        {
          "type": "range",
          "id": "card_container_border_radius_mobile",
          "min": 0,
          "max": 100,
          "step": 1,
          "unit": "px",
          "label": "卡片容器的圆角大小（移动端）",
          "default": 10
        },
        {
          "type": "color",
          "id": "text_color",
          "label": "文本颜色",
          "default": "#000000"
        },

        {
          "type": "color",
          "id": "background_color",
          "label": "背景颜色",
          "default": "#ffffff"
        },
        {
          "type": "range",
          "id": "card_container_padding_top_bottom",
          "min": 0,
          "max": 200,
          "step": 2,
          "unit": "px",
          "label": "卡片容器上下填充",
          "default": 0
        },
        {
          "type": "range",
          "id": "card_container_padding_left_right",
          "min": 0,
          "max": 200,
          "step": 2,
          "unit": "px",
          "label": "卡片容器左右填充",
          "default": 0
        },
        {
          "type": "range",
          "id": "card_container_padding_left_right_mobile",
          "min": 0,
          "max": 200,
          "step": 2,
          "unit": "px",
          "label": "卡片容器左右填充(移动端)",
          "default": 0
        },
        {
          "type": "range",
          "id": "card_container_padding_top_bottom_mobile",
          "min": 0,
          "max": 200,
          "step": 2,
          "unit": "px",
          "label": "卡片容器上下填充(移动端)",
          "default": 0
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "infinite-scroll",
      "blocks": [
        {
          "type": "image"
        },
        {
          "type": "text"
        },
        {
          "type": "image"
        },
        {
          "type": "text"
        },
        {
          "type": "image"
        },
        {
          "type": "text"
        }
      ]
    }
  ]
}
{% endschema %}
