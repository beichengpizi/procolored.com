{{ 'text-with-icons.css' | asset_url | stylesheet_tag }}
{%- liquid
  assign mobile_swipe = section.settings.mobile_swipe
  assign text_alignment = section.settings.text_alignment
  assign icon_position = section.settings.icon_position
  assign icon_size = section.settings.icon_size
  assign heading_size = section.settings.heading_size
  assign color_bg = section.settings.color_bg
  assign color_heading = section.settings.color_heading
  assign color_text = section.settings.color_text
  assign disable_top_spacing = section.settings.disable_top_spacing
  assign disable_bottom_spacing = section.settings.disable_bottom_spacing
  assign has_bg = false

  if color_bg != 'rgba(0,0,0,0)'
    assign has_bg = true
  endif
-%}

<style>
  #shopify-section-{{ section.id }} .text-with-icons.text-with-icons-has-bg--true {
    padding-top: 40px;
    padding-bottom: 80px;
  }

  #shopify-section-{{ section.id }} .text-with-icons.icon-top.text-center .text-with-icons__block {
    display: flex;
    padding: 30px 14px;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    gap: 10px;
    border-radius: 20px;
    border: 0.5px solid rgba(0, 0, 0, 0.12);
    background: linear-gradient(
      180deg,
      rgba(255, 246, 230, 0.56) -33.22%,
      #fff 67.66%
    );
  }

  #shopify-section-{{ section.id }} .text-with-icons.icon-columns-4 .text-with-icons__inner {
    max-width: 1200px;
    padding: 0;
  }

  #shopify-section-{{ section.id }} .text-with-icons.heading-large h6 {
    font-weight: 700;
    margin-bottom: 0;
    min-height: 54px;
    line-height: 1.33;
  }

  #shopify-section-{{ section.id }} .text-with-icons.icon-large .text-with-icons__icon {
    width: 40px;
    height: 40px;
  }

  #shopify-section-{{ section.id }} .text-with-icons.icon-top .text-with-icons__icon {
    margin-bottom: 0;
  }

  @media screen and (max-width: 768px) {
    #shopify-section-{{ section.id }} .text-with-icons.heading-large h6 {
      min-height: unset;
      font-size: 16px;
    }

    #shopify-section-{{ section.id }} .text-with-icons__block-content {
      font-size: 14px;
    }

    #shopify-section-{{ section.id }} .text-with-icons__inner {
      gap: 12px;
    }

    #shopify-section-{{ section.id }} .text-with-icons.icon-columns-4 .text-with-icons__inner {
      max-width: 100%;
      grid-auto-columns: auto;
      padding: 0 24px;
    }

    #shopify-section-{{ section.id }} .text-with-icons.text-with-icons-has-bg--true {
      padding-top: 12px;
      padding-bottom: 50px;
    }

    #shopify-section-{{ section.id }} .text-with-icons__block-content p {
      line-height: 1.4;
    }
  }
</style>
<div
  class="text-with-icons {% if mobile_swipe %} swipe-on-mobile{% endif %} text-{{ text_alignment }} icon-{{ icon_position }} icon-{{ icon_size }} heading-{{ heading_size }} icon-columns-{{ section.blocks.size }} text-with-icons-has-bg--{{ has_bg }} section-spacing {% if disable_top_spacing %} section-spacing--disable-top{% endif %}{% if disable_bottom_spacing %} section-spacing--disable-bottom{% endif %}"
  style="--color-heading: {{ color_heading }};--color-text: {{ color_text }};--color-bg: {{ color_bg }}"
>
  <div class="text-with-icons__inner" style="--icon-columns: {{ section.blocks.size }}">
    {% for block in section.blocks %}
      <div class="text-with-icons__block {% if block.settings.text != blank %} has-no-content{% endif %}">
        <div class="text-with-icons__icon">
          {%- if block.settings.image != blank -%}
            <img
              data-src="{{ block.settings.image | image_url }}"
              alt="{{ block.settings.image.alt | escape }}"
              width="{{ block.settings.image.width }}"
              height="{{ block.settings.image.height }}"
              class="lazyload{% unless settings.lazy_loading %} no-blur{% endunless %}"
            >
            <noscript>
              <img
                src="{{ block.settings.image | image_url }}"
                alt="{{ block.settings.image.alt | escape }}"
                width="{{ block.settings.image.width }}"
                height="{{ block.settings.image.height }}"
              >
            </noscript>
          {%- else -%}
            {% render 'svg-icons-inline', icon: block.settings.icon %}
          {%- endif -%}
        </div>

        {% if block.settings.heading != blank %}
          <h6>{{ block.settings.heading }}</h6>
        {% endif %}

        
          {% if block.settings.text != blank %}
            <div class="text-with-icons__block-content">
            {{ block.settings.text }}
            </div>
          {% endif %}
      </div>
    {% endfor %}
  </div>
</div>
{% schema %}
{
  "name": "Text icons background",
  "class": "section-text-with-icons",
  "max_blocks": 4,
  "settings": [
    {
      "type": "select",
      "id": "text_alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left",
      "label": "Text alignment"
    },
    {
      "type": "select",
      "id": "icon_position",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "top",
          "label": "Top"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left",
      "label": "Icon position"
    },
    {
      "type": "select",
      "id": "icon_size",
      "options": [
        {
          "value": "small",
          "label": "Small"
        },
        {
          "value": "medium",
          "label": "Medium"
        },
        {
          "value": "large",
          "label": "Large"
        },
        {
          "value": "xlarge",
          "label": "X-Large"
        }
      ],
      "default": "large",
      "label": "Icon size"
    },
    {
      "type": "select",
      "id": "heading_size",
      "options": [
        {
          "value": "small",
          "label": "Small"
        },
        {
          "value": "medium",
          "label": "Medium"
        },
        {
          "value": "large",
          "label": "Large"
        }
      ],
      "default": "large",
      "label": "Heading size"
    },
    {
      "type": "checkbox",
      "id": "mobile_swipe",
      "default": true,
      "label": "Enable swipe on mobile"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "color_bg",
      "label": "Background",
      "default": "transparent"
    },
    {
      "type": "color",
      "id": "color_heading",
      "label": "Heading",
      "default": "#1a1c1d"
    },
    {
      "type": "color",
      "id": "color_text",
      "label": "Text",
      "default": "#2c2d2e"
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "checkbox",
      "id": "disable_top_spacing",
      "default": false,
      "label": "Remove top spacing"
    },
    {
      "type": "checkbox",
      "id": "disable_bottom_spacing",
      "default": false,
      "label": "Remove bottom spacing"
    }
  ],
  "blocks": [
    {
      "type": "icon",
      "name": "Text",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "options": [
            {
              "value": "none",
              "label": "None"
            },
            {
              "value": "apple",
              "label": "Apple"
            },
            {
              "value": "banana",
              "label": "Banana"
            },
            {
              "value": "bottle",
              "label": "Bottle"
            },
            {
              "value": "box",
              "label": "Box"
            },
            {
              "value": "carrot",
              "label": "Carrot"
            },
            {
              "value": "chat_bubble",
              "label": "Chat bubble"
            },
            {
              "value": "check_mark",
              "label": "Check mark"
            },
            {
              "value": "clipboard",
              "label": "Clipboard"
            },
            {
              "value": "dairy",
              "label": "Dairy"
            },
            {
              "value": "dairy_free",
              "label": "Dairy free"
            },
            {
              "value": "dryer",
              "label": "Dryer"
            },
            {
              "value": "eye",
              "label": "Eye"
            },
            {
              "value": "fire",
              "label": "Fire"
            },
            {
              "value": "gluten_free",
              "label": "Gluten free"
            },
            {
              "value": "heart",
              "label": "Heart"
            },
            {
              "value": "iron",
              "label": "Iron"
            },
            {
              "value": "leaf",
              "label": "Leaf"
            },
            {
              "value": "leather",
              "label": "Leather"
            },
            {
              "value": "lightning_bolt",
              "label": "Lightning bolt"
            },
            {
              "value": "lipstick",
              "label": "Lipstick"
            },
            {
              "value": "lock",
              "label": "Lock"
            },
            {
              "value": "map_pin",
              "label": "Map pin"
            },
            {
              "value": "nut_free",
              "label": "Nut free"
            },
            {
              "value": "pants",
              "label": "Pants"
            },
            {
              "value": "paw_print",
              "label": "Paw print"
            },
            {
              "value": "pepper",
              "label": "Pepper"
            },
            {
              "value": "perfume",
              "label": "Perfume"
            },
            {
              "value": "plane",
              "label": "Plane"
            },
            {
              "value": "plant",
              "label": "Plant"
            },
            {
              "value": "price_tag",
              "label": "Price tag"
            },
            {
              "value": "question_mark",
              "label": "Question mark"
            },
            {
              "value": "recycle",
              "label": "Recycle"
            },
            {
              "value": "return",
              "label": "Return"
            },
            {
              "value": "ruler",
              "label": "Ruler"
            },
            {
              "value": "serving_dish",
              "label": "Serving dish"
            },
            {
              "value": "shirt",
              "label": "Shirt"
            },
            {
              "value": "shoe",
              "label": "Shoe"
            },
            {
              "value": "silhouette",
              "label": "Silhouette"
            },
            {
              "value": "snowflake",
              "label": "Snowflake"
            },
            {
              "value": "star",
              "label": "Star"
            },
            {
              "value": "stopwatch",
              "label": "Stopwatch"
            },
            {
              "value": "truck",
              "label": "Truck"
            },
            {
              "value": "washing",
              "label": "Washing"
            }
          ],
          "default": "ruler",
          "label": "Icon"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image",
          "info": "Use an image as your icon"
        },
        {
          "type": "html",
          "id": "heading",
          "label": "Heading",
          "default": "Heading"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Text",
          "default": "<p>Pair text with an image to focus on your chosen product, collection, or blog post. Add details on availability, style, or even provide a review.</p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Text icons background",
      "blocks": [
        {
          "type": "icon"
        },
        {
          "type": "icon"
        },
        {
          "type": "icon"
        }
      ]
    }
  ]
}
{% endschema %}
