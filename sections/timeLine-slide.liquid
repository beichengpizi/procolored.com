{{ 'swiper-bundle.min.css' | asset_url | stylesheet_tag }}
{{ 'swiper-bundle.min.js' | asset_url | script_tag }}
<script src="{{ 'swiper-bundle.min.js' | asset_url }}" defer></script>
<style>
    * {
        margin: 0;
        padding: 0;
    }

    .block-03 {
        overflow: hidden;
        background-color: #000;
    }

    .wrapper {
        margin: 96px auto 120px;
        max-width: 1200px;
    }

    .wrapper  .header-title{
        font-size: 48px;
        font-weight: 700;
        color: #fff;
        line-height: 48px;
    }

    .cover {
        width: 596px;
        height: 596px;
        background-size: cover;
        background-position: 50%;
        border-radius: 16px;
    }

    .info {
        margin-left: 80px;
        width: 548px;
        display: flex;
        flex-direction: column;
        justify-content: center;
          align-items: flex-start;
    }

    .info .title {
        font-size: 20px;
        font-weight: 700;
        color: #fff;
        line-height: 32px;
    }

    .info .desc {
        margin-top: 16px;
        font-size: 16px;
        color: #898a8e;
        line-height: 24px;
          text-align: start;
    }

    .swiper {
        width: 100%;
        height: 100%;
    }

    .swiper-slide {
        text-align: center;
        font-size: 18px;
        background: #000;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .swiper-slide img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .swiper-slide {
        background-size: cover;
        background-position: center;
    }

    .mySwiper2 {
        height: 80%;
        width: 100%;
    }

    .swiper-slide.swiper-slide-visible.swiper-slide-thumb-active {
        position: relative;
    }

    .swiper-slide.swiper-slide-visible.swiper-slide-thumb-active span {
        color: #fff !important;
    }

    .swiper-slide.swiper-slide-visible.swiper-slide-thumb-active::before {
        content: '';
        position: absolute;
        left: 0;
        bottom: -20px;
        width: 100%;
        height: 2px;
        background: #DA291C;
        z-index: 2;
    }

    .swiper-slide img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }


    .swiper-slide-next>.swiper-wrapper .swiper-slide {
        width: 88px;
        margin-right: 75px;
        margin-bottom: 48px;
        color: #898a8e;
        font-weight: 700;
        font-size: 20px;
        line-height: 24px;
        transition: color .2s;
    }

    .swiper-slide-thumb-active>.swiper-wrapper .swiper-slide {
        width: 88px;
        margin-right: 75px;
        margin-bottom: 48px;
        color: #6be917;
        font-weight: 700;
        font-size: 20px;
        line-height: 24px;
        transition: color .2s;
    }

    .swiper-slide span {
        color: #898a8e;
    }

    .mySwiper-timeline {
        position: relative;
        padding: 20px 0;
        margin: 10px 0;
        border-bottom: 1px solid #323437;
    }

    @media (max-width:768px) {
      .wrapper .header-title {
      font-size: 22px;
  }
        .header-title {
            font-size: 44px;
            font-weight: 700;
            color: #fff;
            line-height: 52px;
        }

        .mySwiper2 .swiper-slide {
            display: flex;
            flex-direction: column;

        }

        .wrapper {
            width: calc(100% - 40px);
            margin: 10px 20px;
        }

        .cover {
            width: 100%;
            height: 262px;
            background-size: cover;
            background-position: 50%;
            border-radius: 12px;
        }

        .mySwiper2 {
            height: auto;
            width: 100%;
        }

        .info {
            margin: 20px 16px 0;
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            white-space: pre-wrap;
            align-items: flex-start;
        }

        .info .desc {
            margin-top: 10px;
            font-size: 16px;
            color: #898a8e;
            text-align: start;
            white-space: normal;
        }
    }
</style>
<div class="block-03">
  <div class="wrapper">
    <div class="header-title">{{ section.settings.header }}</div>
    <!-- Swiper -->
    <div thumbsSlider="" class="swiper mySwiper-timeline">
      <div class="swiper-wrapper">
         {% for block in section.blocks %}
          {% if block.type == 'ProcoloredDetail' %}
            <div class="swiper-slide">
              <span>{{ block.settings.date}}</span>
            </div>
        {% endif %}
        {% endfor %}
      </div>
    </div>
    <div style="--swiper-navigation-color: #fff; --swiper-pagination-color: #fff" class="swiper mySwiper2">
      <div class="swiper-wrapper">
        {% for block in section.blocks %}
          {% if block.type == 'ProcoloredDetail' %}
            <div class="swiper-slide">
              <div
                class="cover"
                style="background-image:url({{ block.settings.image_with_text_image|image_url }})"
              ></div>
              <div class="info">
                <div class="title">{{ block.settings.title }}</div>
                <div class="desc">
                  {{ block.settings.home_welcome_message }}
                </div>
              </div>
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>
</div>
<script>
  var swiper = new Swiper(".mySwiper-timeline", {
      loop: true,
      spaceBetween: 10,
      slidesPerView: 3,
      freeMode: true,
      watchSlidesProgress: true,
      allowTouchMove: false,
      breakpoints: {
          768: {
              spaceBetween: 10,
              slidesPerView: 8,
          },

      }

  });
  var swiper2 = new Swiper(".mySwiper2", {
      loop: true,
      spaceBetween: 10,
      navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
      },
     // autoplay: {
     //    delay: 2500,
     //    disableOnInteraction: false,
     //  },
      thumbs: {
          swiper: swiper,
      },
  });
</script>
{% schema %}
{
  "name": "The Storyof Procolored",
  "settings": [
    {
      "type": "text",
      "id": "header",
      "label": "Heading",
      "default": "The Storyof Procolored"
    }
  ],
  "blocks":[
     {
      "name":"Procolored Detail",
      "type":"ProcoloredDetail",
      "settings":[
        {
  "type": "text",
  "id": "title",
  "label": "title",
    "default":"正式成立"
},
        {
  "type": "textarea",
  "id": "home_welcome_message",
  "label": "Welcome message",
  "default": "Welcome to my shop!"
},
         {
  "type": "image_picker",
  "id": "image_with_text_image",
  "label": "Image"
},
        {
      "type": "text",
      "id": "date",
      "label": "Date",
      "default": "Date"
    }
      ]
    }

  ],
  "presets": [
    {
      "name": "The Storyof Procolored"
    }
  ]
}
{% endschema %}
